<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yay! You said Yes!</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;500;600;700&family=Quicksand:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="yes-styles.css">
</head>
<body>
    <!-- Floating Hearts Animation -->
    <div class="hearts-container" id="heartsContainer"></div>

    <!-- Confetti -->
    <div class="confetti-container" id="confettiContainer"></div>

    <div class="celebration-container">
        <div class="celebration-card">
            <div class="card-tape"></div>
            
            <h1 class="title">I knew you'd say yessss!! ðŸ’–</h1>
            <p class="subtitle">You've made me the happiest!</p>
            
            <!-- Three polaroid frames: F1, Video, F2 -->
            <div class="polaroid-trio">
                <!-- F1 - Left Image -->
                <div class="gif-frame side-frame">
                    <div class="frame-tape"></div>
                    <img src="photos/F1.jpg" 
                         alt="Basking in the glory of good decisions" 
                         class="side-image">
                    <p class="frame-caption">Basking in the glory of good decisions, there's a long way to go!</p>
                </div>
                
                <!-- F0 - Center Video -->
                <div class="gif-frame main-frame">
                    <div class="frame-tape"></div>
                    <video src="photos/F0.mp4" 
                           class="celebration-video" 
                           controls 
                           autoplay 
                           playsinline>
                        Your browser doesn't support video.
                    </video>
                </div>
                
                <!-- F2 - Right Image -->
                <div class="gif-frame side-frame">
                    <div class="frame-tape"></div>
                    <img src="photos/F2.jpg" 
                         alt="You said yes!" 
                         class="side-image">
                    <p class="frame-caption">You said yes!!! Have maari!</p>
                </div>
            </div>
            
            <p class="love-message">
                Can't wait to spend Valentine's Day with you! 
                <br>
                <span class="signature">- With all my love, Aayush â™¥</span>
            </p>
        </div>
    </div>

    <!-- Background Music -->
    <audio id="bgMusic" loop>
        <source src="photos/Background Music.mp3" type="audio/mpeg">
    </audio>

    <script>
        // ===== Handle Video and Music =====
        const video = document.querySelector('.celebration-video');
        const bgMusic = document.getElementById('bgMusic');
        
        // Set music to start at 45 seconds
        bgMusic.currentTime = 45;
        bgMusic.volume = 0.3; // Lower volume so it doesn't compete with video
        
        // Mute background music while video is playing
        if (video) {
            video.addEventListener('play', () => {
                bgMusic.pause();
            });
            
            video.addEventListener('pause', () => {
                bgMusic.play();
            });
            
            video.addEventListener('ended', () => {
                bgMusic.play();
            });
        }
        
        // Start music on page load
        document.addEventListener('DOMContentLoaded', () => {
            // If video is not autoplaying, start music
            if (video.paused) {
                bgMusic.play().catch(() => {
                    // If autoplay is blocked, play on first user interaction
                    document.body.addEventListener('click', () => {
                        bgMusic.play();
                    }, { once: true });
                });
            }
        });

        // Create floating hearts
        function createHeart() {
            const container = document.getElementById('heartsContainer');
            const heart = document.createElement('div');
            heart.className = 'floating-heart';
            heart.innerHTML = 'â™¥';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = (Math.random() * 3 + 4) + 's';
            heart.style.fontSize = (Math.random() * 20 + 15) + 'px';
            heart.style.opacity = Math.random() * 0.5 + 0.3;
            container.appendChild(heart);
            
            setTimeout(() => heart.remove(), 7000);
        }

        // Create confetti
        function createConfetti() {
            const container = document.getElementById('confettiContainer');
            const colors = ['#E8B4B8', '#D4A853', '#B8D4E3', '#FDF6E3', '#FFD700'];
            
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDuration = (Math.random() * 2 + 3) + 's';
                    confetti.style.animationDelay = Math.random() * 0.5 + 's';
                    container.appendChild(confetti);
                    
                    setTimeout(() => confetti.remove(), 5000);
                }, i * 50);
            }
        }

        // Start animations
        setInterval(createHeart, 300);
        createConfetti();
        
        // Burst of confetti every few seconds
        setInterval(createConfetti, 5000);
    </script>
</body>
</html>
